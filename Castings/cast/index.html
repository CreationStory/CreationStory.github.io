<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link href="Casts.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
</head>
<body>
  <div class="G____Cast"></div>
  <div class="G_Cast"></div>
  <div class="container">
    <div class="gallery" id="gallery">
      <article class="gallery-item">
        <img data-src="1.png">
      </article>
      <article class="gallery-item">
        <img data-src="2.png">
      </article>
	        <article class="gallery-item">
        <img data-src="3.png">
      </article>
	        <article class="gallery-item">
        <img data-src="4.png">
      </article>
	        <article class="gallery-item">
        <img data-src="5.png">
      </article>
	        <article class="gallery-item">
        <img data-src="6.png">
      </article>
	        <article class="gallery-item">
        <img data-src="7.png">
      </article>
	        <article class="gallery-item">
        <img data-src="8.png">
      </article>
	        <article class="gallery-item">
        <img data-src="9.png">
      </article>
	        <article class="gallery-item">
        <img data-src="10.png">
      </article>
	        <article class="gallery-item">
        <img data-src="11.png">
      </article>
	        <article class="gallery-item">
        <img data-src="12.png">
      </article>
	        <article class="gallery-item">
        <img data-src="14.png">
      </article>
	        <article class="gallery-item">
        <img data-src="15.png">
      </article>
	        <article class="gallery-item">
        <img data-src="16.png">
      </article>
	        <article class="gallery-item">
        <img data-src="17.png">
      </article>
	        <article class="gallery-item">
        <img data-src="18.png">
      </article>
	        <article class="gallery-item">
        <img data-src="19.png">
      </article>
	        <article class="gallery-item">
        <img data-src="20.png">
      </article>
    </div>
  </div>

  <script>
    function randomizeGallery() {
      const gallery = document.getElementById('gallery');
      const galleryItems = Array.from(gallery.getElementsByClassName('gallery-item'));

      galleryItems.forEach(item => {
        const randomIndex = Math.floor(Math.random() * galleryItems.length);
        gallery.insertBefore(item, galleryItems[randomIndex]);
      });
    }

    function loadImages(entries, observer) {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target.querySelector('img');
          if (img && img.dataset.src) {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
            observer.unobserve(entry.target);
          }
        }
      });
    }

    function createIntersectionObserver() {
      const options = {
        root: null,
        rootMargin: '200px',
        threshold: 0
      };

      const observer = new IntersectionObserver(loadImages, options);

      const galleryItems = Array.from(document.getElementsByClassName('gallery-item'));
      galleryItems.forEach(item => observer.observe(item));
    }

    randomizeGallery();
    createIntersectionObserver();
  </script>
</body>
</html>
